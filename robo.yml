variables:
  work_dir: ~/workspaces/Go/src/github.com/yyh-gl/hobigon-golang-api-server
  git:
    commit: $(git rev-parse HEAD)
    branch: $(git rev-parse --abbrev-ref HEAD)

build:
  summary: ビルド
  command: GO111MODULE=on GOOS=linux GOARCH=amd64 CGO_ENABLED=0 go build -ldflags "-X main.COMMIT={{.git.commit}} -X main.BRANCH={{.git.branch}}" -o ./cmd/proxy-switcher/bin/psw ./cmd/proxy-switcher/main.go

run:
  summary: 実行
  command: go run ./cmd/proxy-switcher/main.go
